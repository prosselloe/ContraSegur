<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html lang = "ca">
    <head>
        <title>Contrasenyes segures</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script>
            function Comprovar()
            {
                var password = document.getElementById("password").value;
                // window.alert(password);
                document.getElementById("minimcar").checked = false;
                document.getElementById("majuscula").checked = false;
                document.getElementById("minuscula").checked = false;
                document.getElementById("numero").checked = false;
                document.getElementById("carespecial").checked = false;

                var lletra = "";
                for (i = 0; i < password.length; i++) {
                    lletra = password.charAt(i);
                    // window.alert(lletra);

                    // Comprovam la mida mímina
                    if (password.length >= 8) {
                        document.getElementById("minimcar").checked = true;
                    } 

                    // Comprovam que hi hagi un número
                    if (!isNaN(lletra)) {
                        document.getElementById("numero").checked = true;

                    // Comprovam que hi hagi una lletra
                    // if (((lletra.toLowerCase() >= "a") && (lletra.toLowerCase() <= "z")) || 
                    //             (lletra.toLowerCase() == "ñ") || (lletra.toLowerCase() == "ç")) {             


                    // Si no és un número ni una lletra, aleshores serà un caràcter especial
                    } else if (lletra === lletra.toUpperCase() && lletra === lletra.toLowerCase()) {
                        document.getElementById("carespecial").checked = true;
                        // Comprovam que hi hagi una lletra majúscula    
                        } else {if (lletra === lletra.toUpperCase()) {
                            document.getElementById("majuscula").checked = true;
                        // Comprovam que hi hagi una lletra minúscula    
                        } else if (lletra === lletra.toLowerCase()) {
                            document.getElementById("minuscula").checked = true;
                        }

                    }

                    // Si es compleixen totes les condicions, activam el botó d'Iniciar Sessió
                    if (document.getElementById("majuscula").checked &&
                        document.getElementById("minuscula").checked &&
                        document.getElementById("numero").checked &&
                        document.getElementById("carespecial").checked &&
                        document.getElementById("minimcar").checked) 
                    {
                        document.getElementById("inisessio").disabled = false;
                    } else {
                        document.getElementById("inisessio").disabled = false //true;
                    }
                }
            }
            function Iniciar()
            {
                    window.alert("Password: " + document.getElementById("password").value);

            }
        </script>
    </head>
    <body>
        <img src="img/icono-centre.jpg" alt="Icono Centre" style="width:150px;height:150px;" 
             title="IES Guillem Sagrera"/><br>
        Usuari o correu: <input type="text" id="user" value="Z999999"><br>
        Contrasenya: <input type="password" id="password" onchange="Comprovar()"><br>
        <input type="checkbox" id="minimcar"    disabled> Mínim 8 caràcters,<br>
        <input type="checkbox" id="majuscula"   disabled> almenys una lletra majúscula,<br>
        <input type="checkbox" id="minuscula"   disabled> almenys una lletra minúscula,<br>
        <input type="checkbox" id="numero"      disabled> almenys un número,<br>
        <input type="checkbox" id="carespecial" disabled> almenys un carácter especial.<br>
        <br>
        Dèbil - Regular - Bona - Forta<br>
        &nbsp;&nbsp;&nbsp;&nbsp;<progress id="nivell" value="0" max="100"></progress><br>
        Weak - So-so - Great! - Strong<br>
        <br>
        <button type="button" id="inisessio" onclick="Iniciar();" disabled>Iniciar sessió</button><br>
    </body>
</html>
